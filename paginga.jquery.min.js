/*!
 * paginga - jQuery Pagination Plugin v0.1
 * https://github.com/mrk-j/paginga
 *
 * Copyright 2015 Mark and other contributors
 * Released under the MIT license
 * https://github.com/mrk-j/paginga/blob/master/LICENSE
 */

!function(t,e,s,i){"use strict";function a(e,s){this.element=e,this.settings=t.extend({},g,s),this._defaults=g,this._name=n,this.currentPage=1,this.items=t(this.element).find(".items "+this.settings.item),this.totalPages=Math.ceil(this.items.size()/this.settings.itemsPerPage),this.totalPages<=1?t(this.element).find(this.settings.pager).hide():this.init()}var n="paginga",g={itemsPerPage:3,itemsContainer:".items",item:"div",nextPage:".nextPage",previousPage:".previousPage",firstPage:".firstPage",lastPage:".lastPage",pageNumbers:".pageNumbers",currentPageClass:"active",pager:".pager",autoHidePager:!0};t.extend(a.prototype,{init:function(){this.bindEvents(),this.showPage()},bindEvents:function(){var e=this,s=t(e.element),i=s.find(e.settings.previousPage),a=s.find(e.settings.nextPage),n=s.find(e.settings.firstPage),g=s.find(e.settings.lastPage);i.on("click",function(){e.showPreviousPage.call(e)}),a.on("click",function(){e.showNextPage.call(e)}),n.on("click",function(){e.showFirstPage.call(e)}),g.on("click",function(){e.showLastPage.call(e)})},showPreviousPage:function(){this.currentPage--,this.currentPage<=1&&(this.currentPage=1),this.showPage()},showNextPage:function(){this.currentPage++,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages),this.showPage()},showFirstPage:function(){this.currentPage=1,this.showPage()},showLastPage:function(){this.currentPage=this.totalPages,this.showPage()},showPage:function(){var e=this.currentPage*this.settings.itemsPerPage-this.settings.itemsPerPage,s=e+this.settings.itemsPerPage;t.each(this.items,function(i,a){return i>=e&&s>i?(t(a).show(),!0):void t(a).hide()});var i=this,a=t(i.element),n=a.find(i.settings.previousPage),g=a.find(i.settings.nextPage),r=a.find(i.settings.firstPage),h=a.find(i.settings.lastPage);this.currentPage<=1?(n.addClass("disabled"),r.addClass("disabled")):(n.removeClass("disabled"),r.removeClass("disabled")),this.currentPage>=this.totalPages?(g.addClass("disabled"),h.addClass("disabled")):(g.removeClass("disabled"),h.removeClass("disabled"));var P=a.find(this.settings.pager),o=P.find(this.settings.pageNumbers);if(o){o.html("");for(var c=1;c<=this.totalPages;c++){var l=c==this.currentPage?this.settings.currentPageClass:"";o.append("<a href='#' data-page='"+c+"' class='"+l+"'>"+c+"</a>")}o.find("a").on("click",function(){i.currentPage=t(this).data("page"),i.showPage.call(i)})}}}),t.fn[n]=function(e){return this.each(function(){t.data(this,"plugin_"+n)||t.data(this,"plugin_"+n,new a(this,e))})}}(jQuery,window,document);